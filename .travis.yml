# Build pyside wheels for the travis worker
language: python
python:
    - 2.7
    - 3.3
    - 3.4
install:
    - sudo apt-get install xvfb
    - export WHEELHOUSE=$PWD/wheelhouse
    - bash buildpyside.sh
script:
    - pip install -v -f $WHEELHOUSE --no-index pyside
    # Post install needed for pyside wheel
    - python $WHEELHOUSE/pyside_postinstall.py -install
    # Smoke test
    - Xvfb :0 -screen 0 1600x1200x32
    - export DISPLAY=:0.0
    - python -c "from PySide.QtGui import *"
    - python sampleapp.py