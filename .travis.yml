# Build pyside wheels for the travis worker
language: python
python:
    - 2.7
    - 3.3
    - 3.4
install:
    - sudo apt-get install -y xvfb
    - export WHEELHOUSE=$PWD/wheelhouse
    - bash buildpyside.sh
script:
    - bash test.sh
after_success:
  if ([ "$TRAVIS_BRANCH" == "master" ] || [ ! -z "$TRAVIS_TAG" ]) && 
      [ "$TRAVIS_PULL_REQUEST" == "false" ]; then
    bash deploy.sh
  else
    echo "Will not deploy because not a tagged release!"
  fi